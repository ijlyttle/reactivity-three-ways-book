<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.1 Principles | Data-Science Reactivity: Three Ways</title>
  <meta name="description" content="2.1 Principles | Data-Science Reactivity: Three Ways" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="2.1 Principles | Data-Science Reactivity: Three Ways" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.1 Principles | Data-Science Reactivity: Three Ways" />
  
  
  

<meta name="author" content="Ian Lyttle" />


<meta name="date" content="2022-03-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dash.html"/>
<link rel="next" href="demonstration-app-1.html"/>
<script src="libs/header-attrs-2.11.3/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script>
  // wait for the DOM to finish loading, then run function
  window.addEventListener('DOMContentLoaded', (event) => {

    // we want to set some element styles according to the class of the book
    //   - the theme of the book depends on class including:
    //       color-theme-1: means sepia
    //       color-theme-2: means night
    //       neither of these means white

    // see: https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/observe#examples
    // identify an element to observe
    const elementToObserve = document.querySelector(".book");

    // create a new instance of `MutationObserver` named `observer`,
    // passing it a callback function
    const observer = new MutationObserver(function() {

      // img elements with src attribute that end in '.svg'
      const selImageSvg = 'img[src$=".svg"]';

      // span elements used for source-code highlighting
      const selCodeHighlight = 'code.sourceCode > span > span:not(.bu):not(.im)';

      // create a callback function for an element to change its style.filter
      const setFilter = (value) => {
        return (element) => element.style.filter = value;
      }

      if (elementToObserve.classList.contains('color-theme-1')) {
        // console.log('i am sepia');

        // sepia images
        document.querySelectorAll(selImageSvg).forEach(setFilter('sepia(100%'));

        // do nothing to highlighting
        document.querySelectorAll(selCodeHighlight).forEach(setFilter(null));

     } else if (elementToObserve.classList.contains('color-theme-2')) {
        // console.log('i am night');

        // invert images
        document.querySelectorAll(selImageSvg).forEach(setFilter('invert(100%)'));

        // invert highlighting
        document.querySelectorAll(selCodeHighlight).forEach(setFilter('invert(100%)'));

      } else {
        // console.log('i am white');

        // do nothing to images
        document.querySelectorAll(selImageSvg).forEach(setFilter(null));

        // do nothing to highlighting
        document.querySelectorAll(selCodeHighlight).forEach(setFilter(null));
      }

    });

    // call `observe()` on that MutationObserver instance,
    // passing it the element to observe, and the options object
    observer.observe(elementToObserve, {attributeFilter: ['class']});

    // touch class to initiate observe event
    elementToObserve.classList = elementToObserve.classList;

  });
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data-Science Reactivity: Three Ways</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>1</b> Shiny</a>
<ul>
<li class="chapter" data-level="1.1" data-path="principles.html"><a href="principles.html"><i class="fa fa-check"></i><b>1.1</b> Principles</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="principles.html"><a href="principles.html#pure-functions-vs.-side-effects"><i class="fa fa-check"></i><b>1.1.1</b> Pure functions vs. side effects</a></li>
<li class="chapter" data-level="1.1.2" data-path="principles.html"><a href="principles.html#reactives-vs.-observers"><i class="fa fa-check"></i><b>1.1.2</b> Reactives vs. observers</a></li>
<li class="chapter" data-level="1.1.3" data-path="principles.html"><a href="principles.html#using-tidyverse-functions"><i class="fa fa-check"></i><b>1.1.3</b> Using tidyverse functions</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="demonstration-app.html"><a href="demonstration-app.html"><i class="fa fa-check"></i><b>1.2</b> Demonstration App</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="demonstration-app.html"><a href="demonstration-app.html#description"><i class="fa fa-check"></i><b>1.2.1</b> Description</a></li>
<li class="chapter" data-level="1.2.2" data-path="demonstration-app.html"><a href="demonstration-app.html#prelims"><i class="fa fa-check"></i><b>1.2.2</b> Prelims</a></li>
<li class="chapter" data-level="1.2.3" data-path="demonstration-app.html"><a href="demonstration-app.html#helper-functions"><i class="fa fa-check"></i><b>1.2.3</b> Helper functions</a></li>
<li class="chapter" data-level="1.2.4" data-path="demonstration-app.html"><a href="demonstration-app.html#ui"><i class="fa fa-check"></i><b>1.2.4</b> UI</a></li>
<li class="chapter" data-level="1.2.5" data-path="demonstration-app.html"><a href="demonstration-app.html#server-function"><i class="fa fa-check"></i><b>1.2.5</b> Server function</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="dash.html"><a href="dash.html"><i class="fa fa-check"></i><b>2</b> Dash</a>
<ul>
<li class="chapter" data-level="2.1" data-path="principles-1.html"><a href="principles-1.html"><i class="fa fa-check"></i><b>2.1</b> Principles</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="principles-1.html"><a href="principles-1.html#everything-that-exists-is-a-component"><i class="fa fa-check"></i><b>2.1.1</b> Everything that exists is a component</a></li>
<li class="chapter" data-level="2.1.2" data-path="principles-1.html"><a href="principles-1.html#everything-that-happens-is-a-callback"><i class="fa fa-check"></i><b>2.1.2</b> Everything that happens is a callback</a></li>
<li class="chapter" data-level="2.1.3" data-path="principles-1.html"><a href="principles-1.html#server-cannot-store-state"><i class="fa fa-check"></i><b>2.1.3</b> Server cannot store state</a></li>
<li class="chapter" data-level="2.1.4" data-path="principles-1.html"><a href="principles-1.html#use-json-or-base64"><i class="fa fa-check"></i><b>2.1.4</b> Use JSON or base64</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="demonstration-app-1.html"><a href="demonstration-app-1.html"><i class="fa fa-check"></i><b>2.2</b> Demonstration app</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="demonstration-app-1.html"><a href="demonstration-app-1.html#description-1"><i class="fa fa-check"></i><b>2.2.1</b> Description</a></li>
<li class="chapter" data-level="2.2.2" data-path="demonstration-app-1.html"><a href="demonstration-app-1.html#prelims-1"><i class="fa fa-check"></i><b>2.2.2</b> Prelims</a></li>
<li class="chapter" data-level="2.2.3" data-path="demonstration-app-1.html"><a href="demonstration-app-1.html#helper-functions-1"><i class="fa fa-check"></i><b>2.2.3</b> Helper functions</a></li>
<li class="chapter" data-level="2.2.4" data-path="demonstration-app-1.html"><a href="demonstration-app-1.html#compmonent-layout"><i class="fa fa-check"></i><b>2.2.4</b> Compmonent layout</a></li>
<li class="chapter" data-level="2.2.5" data-path="demonstration-app-1.html"><a href="demonstration-app-1.html#callback-functions"><i class="fa fa-check"></i><b>2.2.5</b> Callback functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="observable.html"><a href="observable.html"><i class="fa fa-check"></i><b>3</b> Observable</a>
<ul>
<li class="chapter" data-level="3.1" data-path="principles-2.html"><a href="principles-2.html"><i class="fa fa-check"></i><b>3.1</b> Principles</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="principles-2.html"><a href="principles-2.html#hosted-service-runs-in-browser"><i class="fa fa-check"></i><b>3.1.1</b> Hosted service runs in browser</a></li>
<li class="chapter" data-level="3.1.2" data-path="principles-2.html"><a href="principles-2.html#reactivity-baked-in"><i class="fa fa-check"></i><b>3.1.2</b> Reactivity baked in</a></li>
<li class="chapter" data-level="3.1.3" data-path="principles-2.html"><a href="principles-2.html#javascript"><i class="fa fa-check"></i><b>3.1.3</b> JavaScript</a></li>
<li class="chapter" data-level="3.1.4" data-path="principles-2.html"><a href="principles-2.html#tidyverse-thinking-helps"><i class="fa fa-check"></i><b>3.1.4</b> Tidyverse thinking helps</a></li>
<li class="chapter" data-level="3.1.5" data-path="principles-2.html"><a href="principles-2.html#viewof-is-a-useful-construct"><i class="fa fa-check"></i><b>3.1.5</b> <code>viewof</code> is a useful construct</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="demonstration-app-2.html"><a href="demonstration-app-2.html"><i class="fa fa-check"></i><b>3.2</b> Demonstration app</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="demonstration-app-2.html"><a href="demonstration-app-2.html#showcase"><i class="fa fa-check"></i><b>3.2.1</b> Showcase</a></li>
<li class="chapter" data-level="3.2.2" data-path="demonstration-app-2.html"><a href="demonstration-app-2.html#workshop"><i class="fa fa-check"></i><b>3.2.2</b> Workshop</a></li>
<li class="chapter" data-level="3.2.3" data-path="demonstration-app-2.html"><a href="demonstration-app-2.html#appendix"><i class="fa fa-check"></i><b>3.2.3</b> Appendix</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="stray-thoughts.html"><a href="stray-thoughts.html"><i class="fa fa-check"></i><b>A</b> Stray Thoughts</a></li>
<li class="chapter" data-level="B" data-path="field-guide-to-python.html"><a href="field-guide-to-python.html"><i class="fa fa-check"></i><b>B</b> Field Guide to Python</a>
<ul>
<li class="chapter" data-level="B.1" data-path="python-installation.html"><a href="python-installation.html"><i class="fa fa-check"></i><b>B.1</b> Python installation</a></li>
<li class="chapter" data-level="B.2" data-path="project-management.html"><a href="project-management.html"><i class="fa fa-check"></i><b>B.2</b> Project management</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="project-management.html"><a href="project-management.html#git"><i class="fa fa-check"></i><b>B.2.1</b> Git</a></li>
<li class="chapter" data-level="B.2.2" data-path="project-management.html"><a href="project-management.html#virtual-environment"><i class="fa fa-check"></i><b>B.2.2</b> Virtual Environment</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data-Science Reactivity: Three Ways</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="principles-1" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Principles</h2>
<p>Both Shiny and Dash use the idea of a reactive graph, which indicates what things depend on what other things:</p>
<ul>
<li><p>In Shiny, the reactive graph (what depends on what) is inferred using the code in reactive expressions.</p></li>
<li><p>In Dash, it is explicit, which is a mixed blessing.</p></li>
</ul>
<p>For Dash, this explicitness provides the flexibility to do a lot of things, but the price is that <em>you</em> have to specify:</p>
<ul>
<li>all the DOM components (UI elements) in the layout.</li>
<li>each connection between components is governed by a callback function that you provide.</li>
</ul>
<p>This is substantially similar to Shiny: part of the Dash app is used to define the UI; the rest defines what happens on the server.</p>
<p>However, there are a couple of big considerations:</p>
<ul>
<li>the state of the app <strong>cannot</strong> be stored in the server application.</li>
<li>it is easiest to move you data around using JSON and base64-encoded data.</li>
</ul>
<p>This is different from Shiny, which stores the state of the application in the server function.
Further, Shiny manages the serialization/de-serialization of data to/from the UI; with Dash, you have to manage that yourself.</p>
<p>These are not insurmountable obstacles, as well see in the rest of this section.
For example, one way to store the state is in the UI of the app.</p>
<div id="everything-that-exists-is-a-component" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Everything that exists is a component</h3>
<p>These first two subsections are an homage to the famous John Chambers quotes:</p>
<blockquote>
<p>To understand computations in R, two slogans are helpful:</p>
<ul>
<li>Everything that exists is an object.</li>
<li>Everything that happens is a function call.</li>
</ul>
</blockquote>
<p>Similarly, everything that exists on Dash app’s web page is a component.</p>
<p>As we’ll see in the demo, a Dash app contains a layout that you specify:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="principles-1.html#cb33-1" aria-hidden="true" tabindex="-1"></a>app.layout <span class="op">=</span> html.div(...)</span></code></pre></div>
<p>You need to fill in the <code>...</code>.
A component might be a straightforward HTML element, or it might be a Dash component, where you define the attributes.</p>
<p>The <code>html</code> object (imported from the <code>dash</code> package) behaves very similarly to R’s htmltools package; they are both based on the HTML5 spec.</p>
<p>We’ll see more in the demo, but here’s an example of a Dash component:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="principles-1.html#cb34-1" aria-hidden="true" tabindex="-1"></a>dcc.Dropdown(<span class="bu">id</span><span class="op">=</span><span class="st">&#39;cols-group&#39;</span>, multi<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p>This is a <a href="https://dash.plotly.com/dash-core-components/dropdown">dropdown component</a>; we define the <code>id</code> and <code>multi</code> properties at definition.
In this case, we don’t define the <code>options</code> or <code>value</code> properties. We’ll update the <code>options</code> dynamically, and let the user set the <code>value</code>.</p>
<p>Like other components, dropdowns have a number of <a href="https://dash.plotly.com/dash-core-components/dropdown#dropdown-properties">properties</a>; we can set them either at initialization, as we did here, or we can set them using a callback.</p>
<p>Talk about the DOM.</p>
</div>
<div id="everything-that-happens-is-a-callback" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Everything that happens is a callback</h3>
<p>If you want something to happen in a Dash app, it has to happen in a callback function.
Dash lets you write callbacks using Python.
It also lets you write callbacks in JavaScript, but that gets beyond the scope of this book.</p>
<p>We’ll see this in more detail in the demo app, but a callback is a standard Python function with a decorator:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="principles-1.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="at">@app.callback</span>(Output(<span class="st">&#39;cols-group&#39;</span>, <span class="st">&#39;options&#39;</span>),</span>
<span id="cb35-2"><a href="principles-1.html#cb35-2" aria-hidden="true" tabindex="-1"></a>              Input(<span class="st">&#39;inp&#39;</span>, <span class="st">&#39;data&#39;</span>))</span>
<span id="cb35-3"><a href="principles-1.html#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> update_cols_group(data_records):</span>
<span id="cb35-4"><a href="principles-1.html#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cols_choice(data_records, <span class="st">&#39;object&#39;</span>)</span></code></pre></div>
<p>The decorator, <code>@app.callback(...)</code> tells Dash which layout components to map to the function’s inputs and outputs.
When an <code>Input()</code> changes:</p>
<ul>
<li>the browser calls the Dash server to run the callback function.</li>
<li>the Dash server runs the Python function.</li>
<li>the Dash server sends the <code>Output()</code> to the browser.</li>
<li>the browser updates the DOM.</li>
</ul>
</div>
<div id="server-cannot-store-state" class="section level3" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> Server cannot store state</h3>
<p>Managing state is a pain.
However, by remaining stateless, Dash is able to easily scale to as many server instances it needs because it does not matter which instance of a callback-function responds to which browser (user) making the call.</p>
<p>Coming from Shiny, this might seem like a show-stopper; we are used to manipulating, then storing data using the server side of an app.
But there are ways around this.
It’s not that you can’t store the state - you just can’t store it “here”.
Your options are:</p>
<ul>
<li>store data in the DOM, then send it when needed.</li>
<li>store data in an external database, or the like.</li>
</ul>
<p>We’ll use the first option here.
Here’s one of the components in our layout:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="principles-1.html#cb36-1" aria-hidden="true" tabindex="-1"></a>dcc.Store(<span class="bu">id</span><span class="op">=</span><span class="st">&#39;inp&#39;</span>, data<span class="op">=</span>penguins.to_dict(<span class="st">&#39;records&#39;</span>))</span></code></pre></div>
<p>Note that this component is initialized using the <code>penguins</code> data, but that we are using pandas’ <code>to_dict()</code> method.
This is because the component will receive the data using JSON; it is stored in the DOM as a JavaScript object.</p>
</div>
<div id="use-json-or-base64" class="section level3" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> Use JSON or base64</h3>
<p>The final thing to keep in mind is that when we communicate data between the browser DOM and the callback functions, it does not use native Python objects. Instead, from the Python callback-functions’ perspective, data is serialized to JSON when sent to the DOM, and deserialized from JSON when received from the DOM.</p>
<p>For Python dictionaries and lists containing numbers and strings, the serialization process is implied.</p>
<p>There are (at least) a couple of conventions for serializing a data frame to JSON: by row or by column.</p>
<p>Coming from R, you may think of a data frame as a list of vectors, each of the same length.
This is column-based, for example:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb37-1"><a href="principles-1.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb37-2"><a href="principles-1.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;species&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Adelie&quot;</span><span class="ot">,</span> <span class="st">&quot;Adelie&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb37-3"><a href="principles-1.html#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;bill_length_mm&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="fl">39.1</span><span class="ot">,</span> <span class="fl">18.7</span><span class="ot">]</span></span>
<span id="cb37-4"><a href="principles-1.html#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>Alternatively, the row-based approach:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb38-1"><a href="principles-1.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span></span>
<span id="cb38-2"><a href="principles-1.html#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">{</span><span class="dt">&quot;species&quot;</span><span class="fu">:</span> <span class="st">&quot;Adelie&quot;</span><span class="fu">,</span> <span class="dt">&quot;bill_length_mm&quot;</span><span class="fu">:</span> <span class="fl">39.1</span><span class="fu">}</span><span class="ot">,</span></span>
<span id="cb38-3"><a href="principles-1.html#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">{</span><span class="dt">&quot;species&quot;</span><span class="fu">:</span> <span class="st">&quot;Adelie&quot;</span><span class="fu">,</span> <span class="dt">&quot;bill_length_mm&quot;</span><span class="fu">:</span> <span class="fl">18.7</span><span class="fu">}</span></span>
<span id="cb38-4"><a href="principles-1.html#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="ot">]</span></span></code></pre></div>
<p>The row-based approach seems to be the convention in Dash; this is the approach used by D3.
Here, we think of a data frame as a collection of <em>records</em>.
To serialize from Pandas, we’ll use <code>to_dict('records')</code>; to deserialize (import) into Pandas, we’ll use <code>from_dict()</code>.</p>
<p>In the context of the Python code, I’ll refer to data formats as either:</p>
<ul>
<li><em>data-frame</em> format, i.e. Pandas data frame</li>
<li><em>records</em> format, i.e. JSON collection of records</li>
</ul>
<p>The other option is to use base64 encoding; I have seen this used for uploading/downloading text files, e.g. CSV or JSON files.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dash.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="demonstration-app-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub", "_main.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
